<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">

    <title>
        US Crime Data Visualisation
    </title>
    <!-- Include Vega and Vega-Lite Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6">
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #e6e0f8;  /* Light grayish background */
            margin: 0 auto;
            max-width: 1500px;
        }

        .main-topic {
            font-size: 30px;
            font-weight: bold;
            margin-bottom: 25px;
            text-align: center;
            font-family: 'Open Sans', sans-serif;
            color: saddlebrown;
            text-shadow: 0px 0px 15px #00FFFF,0px 0px 15px #00FFFF,0px 0px 15px #00FFFF;
        }

        .intro {
            background-color: #b2d8b2;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 5px;
        }


        .chart-description {
            background-color: #e6e0f8;  /* Slightly lighter than body for distinction */
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            font-style: italic;
        }

        .intro-description {
            font-family: 'Lato', sans-serif;
        }

        .conclusion-description {
            font-family: 'Lato', sans-serif;;
        }


        /* Clear float after every 2nd chart */


        .chart-container::after {
            content: "";
            display: table;
            clear: both;
        }
        .chart-wrapper {
            width: 100%;
            display: flex;
            justify-content: center;

            box-sizing: border-box;
            padding: 10px;
        }

        /* Clear float after every 2nd chart-wrapper */

        .chart-wrapper {
            width: 100%;
            display: flex;
            justify-content: center;

            box-sizing: border-box;
            padding: 5px;
            margin-bottom: 10px;
        }

        /* Clear float after every 2nd chart-wrapper */

        .soft-frame {
            background: linear-gradient(135deg, #f2e9e4 0%, #ffeee7 100%);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .chart-description {
            font-size: medium;
            font-style: normal;
        }



        .chart-subtopic {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
            font-family: 'Open Sans', sans-serif;
            color: saddlebrown;
            text-shadow: 0px 0px 15px #00FFFF,0px 0px 15px #00FFFF,0px 0px 15px #00FFFF;
        }

        .chart-description {
            font-family: 'Lato', sans-serif;
            font-size: 16px;
            line-height: 1.5;
        }


    </style>
</head>
<body>
<div class="intro" style="text-align: center;">
    <div class="main-topic">
        Crime in the United States
    </div>
    <div class = "intro-description">
        Crime in the United States has been recorded since the early colonial days. Over the years, the nature and dynamics of criminal activities have evolved,
        influenced by various socio-economic and political factors. The data visualizations below provide insights into crime rates across different states,
        trends over time, and the demographic distribution of arrestees. By analyzing this data, stakeholders can make informed decisions to improve
        public safety and justice outcomes.
    </div>
</div>
<script type="text/javascript">
    vegaEmbed('#chart1', {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "background": "transparent",
        "vconcat": [
            {
                "width": 600,
                "height": 350,
                "autosize": {"type": "pad", "contains": "padding", "resize": true},
                "view": {"stroke": "transparent"},
                "title": {
                    "text": "Crime in the US by State",
                    "fontSize": 16,
                    "subtitle": ["Offences per 100k population. Source FBI, 2019", ""],
                    "subtitleFontStyle": "italic",
                    "subtitleFontSize": 13,
                    "anchor": "middle"
                },
                "data": {
                    "url": "https://raw.githubusercontent.com/RDeconomist/RDeconomist.github.io/main/charts/maps/geoUSStates.json",
                    "format": {"property": "features"}
                },
                "projection": {"type": "albersUsa"},
                "mark": "geoshape",
                "transform": [
                    {
                        "lookup": "properties.NAME",
                        "from": {
                            "data": {
                                "url": "https://raw.githubusercontent.com/jhellingsdata/jhellingsdata.github.io/main/Data/USA_crime_databank_wide.csv"
                            },
                            "key": "State",
                            "fields": [
                                "Violent Crime",
                                "Homocide",
                                "Rape",
                                "Robbery",
                                "Aggravated Assault",
                                "Property Crime",
                                "Burglary",
                                "Larceny",
                                "Motor Vehicle Theft",
                                "Arson"
                            ]
                        }
                    },
                    {"calculate": "datum[Select]", "as": "varSelected"}
                ],
                "encoding": {
                    "color": {
                        "field": "varSelected",
                        "type": "quantitative",
                        "scale": {"scheme": "viritis"},
                        "legend": {
                            "title": "criminal population",
                            "orient": "right",
                            "direction": "vertical"
                        }
                    },
                    "tooltip": [
                        {"field": "properties.NAME", "title": "State"},
                        {"field": "varSelected", "title": "Offending rate", "format": ",d"}
                    ]
                }
            },
            {
                "width": 600,
                "height": 400,
                "title": "Crime Rate by State",
                "data": {
                    "url": "https://raw.githubusercontent.com/jhellingsdata/jhellingsdata.github.io/main/Data/USA_crime_databank_wide.csv"
                },
                "transform": [{"calculate": "datum[Select]", "as": "varSelected"}],
                "mark": "bar",
                "encoding": {
                    "y": {
                        "field": "varSelected",
                        "type": "quantitative",
                        "title": "Crime Rate"
                    },
                    "x": {
                        "field": "State",
                        "type": "ordinal",
                        "title": "State",
                        "sort": "-y"
                    },
                    "color": {
                        "field": "varSelected",
                        "type": "quantitative",
                        "scale": {"scheme": "viritis"},
                        "legend": {"title": "Crime Rate"}
                    },
                    "tooltip": [
                        {"field": "State", "title": "State"},
                        {"field": "varSelected", "title": "Crime Rate", "format": ",d"}
                    ]
                }
            }
        ],
        "params": [
            {
                "name": "Select",
                "value": "Violent Crime",
                "bind": {
                    "input": "select",
                    "options": [
                        "Violent Crime",
                        "Homocide",
                        "Rape",
                        "Robbery",
                        "Aggravated Assault",
                        "Property Crime",
                        "Burglary",
                        "Larceny",
                        "Motor Vehicle Theft",
                        "Arson"
                    ]
                }
            }
        ]
    });
</script>
<script type="text/javascript">
    vegaEmbed('#chart2', {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "width": 600,
        "height": 350,
        "background": "transparent",
        "title": {
            "text": "Crime Rates by Type",
            "fontSize": 16,
            "subtitle": [
                "Offences per 100k population for a selected state. Source: FBI, 2019",
                ""
            ],
            "subtitleFontStyle": "italic",
            "subtitleFontSize": 13,
            "anchor": "middle"
        },
        "data": {
            "url": "https://raw.githubusercontent.com/jhellingsdata/jhellingsdata.github.io/main/Data/USA_crime_databank_wide.csv"
        },
        "params": [
            {
                "name": "SelectedState",
                "value": "California",
                "bind": {
                    "input": "select",
                    "options": [
                        "Alabama",
                        "Alaska",
                        "Arizona",
                        "Arkansas",
                        "California",
                        "Colorado",
                        "Connecticut",
                        "Delaware",
                        "District of Columbia",
                        "Florida",
                        "Georgia",
                        "Hawaii",
                        "Idaho",
                        "Illinois",
                        "Indiana",
                        "Iowa",
                        "Kansas",
                        "Kentucky",
                        "Louisiana",
                        "Maine",
                        "Maryland",
                        "Massachusetts",
                        "Michigan",
                        "Minnesota",
                        "Mississippi",
                        "Missouri",
                        "Montana",
                        "Nebraska",
                        "Nevada",
                        "New Hampshire",
                        "New Jersey",
                        "New Mexico",
                        "New York",
                        "North Carolina",
                        "North Dakota",
                        "Ohio",
                        "Oklahoma",
                        "Oregon",
                        "Pennsylvania",
                        "Rhode Island",
                        "South Carolina",
                        "South Dakota",
                        "Tennessee",
                        "Texas",
                        "Utah",
                        "Vermont",
                        "Virginia",
                        "Washington",
                        "West Virginia",
                        "Wisconsin",
                        "Wyoming"
                    ],
                    "name": "Select State"
                }
            }
        ],
        "transform": [
            {"filter": "datum.State === SelectedState"},
            {
                "fold": [
                    "Violent Crime",
                    "Homocide",
                    "Rape",
                    "Robbery",
                    "Aggravated Assault",
                    "Property Crime",
                    "Burglary",
                    "Larceny",
                    "Motor Vehicle Theft",
                    "Arson"
                ],
                "as": ["Crime Type", "Rate"]
            }
        ],
        "mark": {"type": "bar", "cornerRadiusEnd": 5},
        "encoding": {
            "y": {"field": "Crime Type", "type": "ordinal", "title": "Type of Crime"},
            "x": {
                "field": "Rate",
                "type": "quantitative",
                "title": "Offences per 100k Population"
            },
            "tooltip": [
                {"field": "Crime Type", "type": "ordinal", "title": "Crime Type"},
                {
                    "field": "Rate",
                    "type": "quantitative",
                    "title": "Offences per 100k Population",
                    "format": ",d"
                }
            ]
        },
        "config": {}
    });
</script>
<script type="text/javascript">
    vegaEmbed('#chart3', {
        "$schema": "https://vega.github.io/schema/vega/v5.json",
        "topic": "Crime type total distribution",
        "description": "A radar chart example, showing multiple dimensions in a radial layout.",
        "title": "Crime Preference in the US",
        "background": "transparent",
        "width": 450,
        "height": 400,
        "padding":80,
        "autosize": {"type": "none", "contains": "padding"},
        "signals": [{"name": "radius", "update": "width / 2.2"}],
        "data": [
            {
                "name": "table",
                "values": [
                    {
                        "key": "Homocide",
                        "value": 2.42341,
                        "category": 0,
                        "crime_total": 265.1
                    },
                    {
                        "key": "Rape",
                        "value": 3.398426,
                        "category": 0,
                        "crime_total": 2502.8
                    },
                    {
                        "key": "Robbery",
                        "value": 3.545975,
                        "category": 0,
                        "crime_total": 3515.4
                    },
                    {
                        "key": "Aggravated Assault",
                        "value": 4.117606,
                        "category": 0,
                        "crime_total": 13110.1
                    },
                    {
                        "key": "Burglary",
                        "value": 4.246146,
                        "category": 0,
                        "crime_total": 17625.7
                    },
                    {
                        "key": "Larceny",
                        "value": 4.910362,
                        "category": 0,
                        "crime_total": 81350.9
                    },
                    {
                        "key": "Motor Vehicle Theft",
                        "value": 4.04232,
                        "category": 0,
                        "crime_total": 11023.5
                    },
                    {"key": "Arson", "value": 2.761101, "category": 0, "crime_total": 576.9}
                ]
            },
            {
                "name": "keys",
                "source": "table",
                "transform": [{"type": "aggregate", "groupby": ["key"]}]
            }
        ],
        "scales": [
            {
                "name": "angular",
                "type": "point",
                "range": {"signal": "[-PI, PI]"},
                "padding": 0.5,
                "domain": {"data": "table", "field": "key"}
            },
            {
                "name": "radial",
                "type": "linear",
                "range": {"signal": "[0, radius]"},
                "zero": true,
                "nice": false,
                "domain": {"data": "table", "field": "value"},
                "domainMin": 0
            },
            {
                "name": "color",
                "type": "ordinal",
                "domain": {"data": "table", "field": "category"},
                "range": {"scheme": "category10"}
            }
        ],
        "encode": {"enter": {"x": {"signal": "radius"}, "y": {"signal": "radius"}}},
        "marks": [
            {
                "type": "group",
                "name": "categories",
                "zindex": 1,
                "from": {
                    "facet": {"data": "table", "name": "facet", "groupby": ["category"]}
                },
                "marks": [
                    {
                        "type": "line",
                        "name": "category-line",
                        "from": {"data": "facet"},
                        "encode": {
                            "enter": {
                                "interpolate": {"value": "linear-closed"},
                                "x": {
                                    "signal": "scale('radial', datum.value) * cos(scale('angular', datum.key))"
                                },
                                "y": {
                                    "signal": "scale('radial', datum.value) * sin(scale('angular', datum.key))"
                                },
                                "stroke": {"scale": "color", "field": "category"},
                                "strokeWidth": {"value": 1},
                                "fill": {"scale": "color", "field": "category"},
                                "fillOpacity": {"value": 0.1},
                                "tooltip": {
                                    "signal": "{'Crime Type': datum.key, 'Total': datum.crime_total}"
                                }
                            }
                        }
                    },
                    {
                        "type": "text",
                        "name": "value-text",
                        "from": {"data": "category-line"},
                        "encode": {
                            "enter": {
                                "x": {"signal": "datum.x"},
                                "y": {"signal": "datum.y"},
                                "text": {"signal": "datum.datum.crime_total"},
                                "align": {"value": "center"},
                                "baseline": {"value": "middle"},
                                "fill": {"value": "black"}
                            }
                        }
                    }
                ]
            },
            {
                "type": "rule",
                "name": "radial-grid",
                "from": {"data": "keys"},
                "zindex": 0,
                "encode": {
                    "enter": {
                        "x": {"value": 0},
                        "y": {"value": 0},
                        "x2": {"signal": "radius * cos(scale('angular', datum.key))"},
                        "y2": {"signal": "radius * sin(scale('angular', datum.key))"},
                        "stroke": {"value": "lightgray"},
                        "strokeWidth": {"value": 1}
                    }
                }
            },
            {
                "type": "text",
                "name": "key-label",
                "from": {"data": "keys"},
                "zindex": 1,
                "encode": {
                    "enter": {
                        "x": {"signal": "(radius + 5) * cos(scale('angular', datum.key))"},
                        "y": {"signal": "(radius + 5) * sin(scale('angular', datum.key))"},
                        "text": {"field": "key"},
                        "align": [
                            {
                                "test": "abs(scale('angular', datum.key)) > PI / 2",
                                "value": "right"
                            },
                            {"value": "left"}
                        ],
                        "baseline": [
                            {"test": "scale('angular', datum.key) > 0", "value": "top"},
                            {"test": "scale('angular', datum.key) == 0", "value": "middle"},
                            {"value": "bottom"}
                        ],
                        "fill": {"value": "black"},
                        "fontWeight": {"value": "bold"}
                    }
                }
            },
            {
                "type": "line",
                "name": "outer-line",
                "from": {"data": "radial-grid"},
                "encode": {
                    "enter": {
                        "interpolate": {"value": "linear-closed"},
                        "x": {"field": "x2"},
                        "y": {"field": "y2"},
                        "stroke": {"value": "lightgray"},
                        "strokeWidth": {"value": 1}
                    }
                }
            }
        ],
        "config": {}
    });
</script>
<script type="text/javascript">
    vegaEmbed('#chart4', {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "background": "transparent",
        "width": 600,
        "height": 350,
        "title": {
            "text": "The Crime of Property vs Violent in the US",
            "fontSize": 16,
            "subtitle": ["Offences per 100k population. Source FBI, 2019"],
            "subtitleFontStyle": "italic",
            "subtitleFontSize": 13,
            "anchor": "middle"
        },
        "data": {
            "url": "https://raw.githubusercontent.com/jhellingsdata/jhellingsdata.github.io/main/Data/USA_crime_databank_wide.csv"
        },
        "params": [
            {
                "name": "SelectedState",
                "value": "All",
                "bind": {
                    "input": "select",
                    "options": [
                        "All",
                        "Alabama",
                        "Alaska",
                        "Arizona",
                        "Arkansas",
                        "California",
                        "Colorado",
                        "Connecticut",
                        "Delaware",
                        "District of Columbia",
                        "Florida",
                        "Georgia",
                        "Hawaii",
                        "Idaho",
                        "Illinois",
                        "Indiana",
                        "Iowa",
                        "Kansas",
                        "Kentucky",
                        "Louisiana",
                        "Maine",
                        "Maryland",
                        "Massachusetts",
                        "Michigan",
                        "Minnesota",
                        "Mississippi",
                        "Missouri",
                        "Montana",
                        "Nebraska",
                        "Nevada",
                        "New Hampshire",
                        "New Jersey",
                        "New Mexico",
                        "New York",
                        "North Carolina",
                        "North Dakota",
                        "Ohio",
                        "Oklahoma",
                        "Oregon",
                        "Pennsylvania",
                        "Rhode Island",
                        "South Carolina",
                        "South Dakota",
                        "Tennessee",
                        "Texas",
                        "Utah",
                        "Vermont",
                        "Virginia",
                        "Washington",
                        "West Virginia",
                        "Wisconsin",
                        "Wyoming"
                    ],
                    "name": "Select State"
                }
            }
        ],
        "transform": [
            {"filter": "SelectedState === 'All' || datum.State === SelectedState"}
        ],
        "mark": "point",
        "encoding": {
            "x": {
                "field": "Violent Crime",
                "type": "quantitative",
                "title": "Violent Crime Rate"
            },
            "y": {
                "field": "Property Crime",
                "type": "quantitative",
                "title": "Property Crime Rate"
            },
            "color": {
                "field": "State",
                "type": "nominal",
                "legend": {"title": "State"}
            },
            "tooltip": [
                {"field": "State", "title": "State"},
                {"field": "Violent Crime", "title": "Violent Crime Rate", "format": ",d"},
                {
                    "field": "Property Crime",
                    "title": "Property Crime Rate",
                    "format": ",d"
                }
            ]
        },
        "config": {}
    });
</script>
<script type="text/javascript">
    vegaEmbed('#chart5', {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "title": "Rate of crime from 2012 - 2020",
        "description": "Rate of Violent Crime and Property Crime Offenses by Year",
        "width": 600,
        "height": 300,
        "background": "transparent",
        "data": {
            "values": [
                {"Year": "2012", "Rate": 387.8, "Crime Type": "Violent Crime"},
                {"Year": "2012", "Rate": 2905.4, "Crime Type": "Property Crime"},
                {"Year": "2013", "Rate": 369.1, "Crime Type": "Violent Crime"},
                {"Year": "2013", "Rate": 2868.0, "Crime Type": "Property Crime"},
                {"Year": "2014", "Rate": 361.6, "Crime Type": "Violent Crime"},
                {"Year": "2014", "Rate": 2733.6, "Crime Type": "Property Crime"},
                {"Year": "2015", "Rate": 373.7, "Crime Type": "Violent Crime"},
                {"Year": "2015", "Rate": 2574.1, "Crime Type": "Property Crime"},
                {"Year": "2016", "Rate": 397.5, "Crime Type": "Violent Crime"},
                {"Year": "2016", "Rate": 2500.5, "Crime Type": "Property Crime"},
                {"Year": "2017", "Rate": 394.9, "Crime Type": "Violent Crime"},
                {"Year": "2017", "Rate": 2451.6, "Crime Type": "Property Crime"},
                {"Year": "2018", "Rate": 383.4, "Crime Type": "Violent Crime"},
                {"Year": "2018", "Rate": 2362.9, "Crime Type": "Property Crime"},
                {"Year": "2019", "Rate": 380.8, "Crime Type": "Violent Crime"},
                {"Year": "2019", "Rate": 2209.8, "Crime Type": "Property Crime"},
                {"Year": "2020", "Rate": 398.5, "Crime Type": "Violent Crime"},
                {"Year": "2020", "Rate": 2130.6, "Crime Type": "Property Crime"}
            ]
        },
        "layer": [
            {
                "mark": {
                    "type": "line",
                    "point": {"filled": false, "fill": "white", "size": 100},
                    "interpolate": "monotone",
                    "tooltip": true
                },
                "encoding": {
                    "x": {"field": "Year", "type": "ordinal", "title": "Year"},
                    "y": {
                        "field": "Rate",
                        "type": "quantitative",
                        "title": "Rate of Crime",
                        "scale": {"domain": [0, 3000]}
                    },
                    "color": {
                        "field": "Crime Type",
                        "type": "nominal",
                        "legend": {"title": "Type of Crime", "orient": "top-right"},
                        "scale": {"domain": ["Violent Crime", "Property Crime"], "range": ["blue", "red"]}
                    }
                }
            }
        ],
        "resolve": {
            "scale": {
                "y": "independent"
            }
        }
    });
</script>
<script type="text/javascript">
    vegaEmbed('#chart6', {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "description": "Pie chart of bias categories",
        "background": "transparent",
        "height": 300,
        "width": 500,
        "data": {
            "values": [
                {"category": "Race/Ethnicity/Ancestry", "value": 4491},
                {"category": "Religion", "value": 1013},
                {"category": "Sexual Orientation", "value": 1121},
                {"category": "Disability", "value": 136},
                {"category": "Gender", "value": 72},
                {"category": "Gender Identity", "value": 266},
                {"category": "Multiple Bias", "value": 188}
            ]
        },
        "mark": {"type": "arc", "innerRadius": 30},
        "encoding": {
            "theta": {"field": "value", "type": "quantitative", "stack": true},
            "color": {
                "field": "category",
                "type": "nominal",
                "scale": {
                    "range": [
                        "#1f77b4",
                        "#ff7f0e",
                        "#d62728",
                        "#9467bd",
                        "#8c564b",
                        "#e377c2",
                        "#7f7f7f"
                    ]
                },
                "legend": {"title": "Bias Categories"}
            },
            "tooltip": [
                {"field": "category", "type": "nominal", "title": "Category"},
                {"field": "value", "type": "quantitative", "title": "Incidents"}
            ],
            "text": {"field": "value", "type": "quantitative"}
        },
        "view": {"stroke": null},
        "title": "Incidents by Bias Categories",
        "config": {}
    });
</script>
<div class="chart-columns">
    <div class="chart-subtopic">
        The US Crime Map
    </div>
    <div class="chart-wrapper soft-frame">
        <div class="chart-description" style="background-color: transparent;">
            This chart, at its core, seeks to offer a panoramic view of crime rates across different states.
            The essence of visualizing such data lies in the ability to discern patterns and insights that raw numbers might obscure.
            By looking at this representation, regions of concern become immediately evident, as do areas that have managed to maintain a semblance of safety.
            For policymakers and law enforcement agencies, such data-driven insights are invaluable.
            </br>
            </br>
            Through this map, it is obviously to see that the District of Columbia, Alaska and New Mexico are the highest violent crime rate in the US.
            In the property crime, the District of Columbia are still have the highest crime rate as well.
        </div>
        <div class="chart-container" id="chart1" style="background-color: transparent;">
        </div>
        <script type="text/javascript">
            vegaEmbed('#chart1', {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "background": "transparent",
                "vconcat": [
                    {
                        "width": 600,
                        "height": 350,
                        "autosize": {"type": "pad", "contains": "padding", "resize": true},
                        "view": {"stroke": "transparent"},
                        "title": {
                            "text": "Crime in the US by State",
                            "fontSize": 16,
                            "subtitle": ["Offences per 100k population. Source FBI, 2019", ""],
                            "subtitleFontStyle": "italic",
                            "subtitleFontSize": 13,
                            "anchor": "middle"
                        },
                        "data": {
                            "url": "https://raw.githubusercontent.com/RDeconomist/RDeconomist.github.io/main/charts/maps/geoUSStates.json",
                            "format": {"property": "features"}
                        },
                        "projection": {"type": "albersUsa"},
                        "mark": "geoshape",
                        "transform": [
                            {
                                "lookup": "properties.NAME",
                                "from": {
                                    "data": {
                                        "url": "https://raw.githubusercontent.com/jhellingsdata/jhellingsdata.github.io/main/Data/USA_crime_databank_wide.csv"
                                    },
                                    "key": "State",
                                    "fields": [
                                        "Violent Crime",
                                        "Homocide",
                                        "Rape",
                                        "Robbery",
                                        "Aggravated Assault",
                                        "Property Crime",
                                        "Burglary",
                                        "Larceny",
                                        "Motor Vehicle Theft",
                                        "Arson"
                                    ]
                                }
                            },
                            {"calculate": "datum[Select]", "as": "varSelected"}
                        ],
                        "encoding": {
                            "color": {
                                "field": "varSelected",
                                "type": "quantitative",
                                "scale": {"scheme": "viridis"},
                                "legend": {
                                    "title": "criminal population",
                                    "orient": "right",
                                    "direction": "vertical"
                                }
                            },
                            "tooltip": [
                                {"field": "properties.NAME", "title": "State"},
                                {"field": "varSelected", "title": "Offending rate", "format": ",d"}
                            ]
                        }
                    },
                    {
                        "width": 600,
                        "height": 400,
                        "title": "Crime Rate by State in detail",
                        "data": {
                            "url": "https://raw.githubusercontent.com/jhellingsdata/jhellingsdata.github.io/main/Data/USA_crime_databank_wide.csv"
                        },
                        "transform": [{"calculate": "datum[Select]", "as": "varSelected"}],
                        "mark": "bar",
                        "encoding": {
                            "y": {
                                "field": "varSelected",
                                "type": "quantitative",
                                "title": "Crime Rate"
                            },
                            "x": {
                                "field": "State",
                                "type": "ordinal",
                                "title": "State",
                                "sort": "-y"
                            },
                            "color": {
                                "field": "varSelected",
                                "type": "quantitative",
                                "scale": {"scheme": "viridis"},
                                "legend": {"title": "Crime Rate"}
                            },
                            "tooltip": [
                                {"field": "State", "title": "State"},
                                {"field": "varSelected", "title": "Crime Rate", "format": ",d"}
                            ]
                        }
                    }
                ],
                "params": [
                    {
                        "name": "Select",
                        "value": "Violent Crime",
                        "bind": {
                            "input": "select",
                            "options": [
                                "Violent Crime",
                                "Homocide",
                                "Rape",
                                "Robbery",
                                "Aggravated Assault",
                                "Property Crime",
                                "Burglary",
                                "Larceny",
                                "Motor Vehicle Theft",
                                "Arson"
                            ]
                        }
                    }
                ]
            });
        </script>
    </div>
    <div class="chart-subtopic">
        Crime in Each State
    </div>
    <div class="chart-wrapper soft-frame">
        <div class="chart-description" style="background-color: transparent;">
            The second visualization dives into the intricate details of reported crimes, categorizing and presenting them based on their type.
            While overarching crime rates provide a broad understanding, diving into the specifics of crime types reveals the nuances of the challenges faced.
            Whether a region is grappling with violent crimes, property-related incidents, or other categories becomes evident.
            Such granularity in data is essential for strategizing crime prevention methods, tailoring them to the specific challenges of an area.
            </br>
            </br>
            By looking at this bar chart, it is evident that the District of Columbia has the highest rate in the United States, in the total of crime rate in 100k person.
        </div>
        <div class="chart-container" id="chart2" style="background-color: transparent;">
        </div>
        <script type="text/javascript">
            vegaEmbed('#chart2', {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "width": 600,
                "height": 350,
                "background": "transparent",
                "title": {
                    "text": "Crime Rates by Type",
                    "fontSize": 16,
                    "subtitle": [
                        "Offences per 100k population for a selected state. Source: FBI, 2019",
                        ""
                    ],
                    "subtitleFontStyle": "italic",
                    "subtitleFontSize": 13,
                    "anchor": "middle"
                },
                "data": {
                    "url": "https://raw.githubusercontent.com/jhellingsdata/jhellingsdata.github.io/main/Data/USA_crime_databank_wide.csv"
                },
                "params": [
                    {
                        "name": "SelectedState",
                        "value": "California",
                        "bind": {
                            "input": "select",
                            "options": [
                                "Alabama",
                                "Alaska",
                                "Arizona",
                                "Arkansas",
                                "California",
                                "Colorado",
                                "Connecticut",
                                "Delaware",
                                "District of Columbia",
                                "Florida",
                                "Georgia",
                                "Hawaii",
                                "Idaho",
                                "Illinois",
                                "Indiana",
                                "Iowa",
                                "Kansas",
                                "Kentucky",
                                "Louisiana",
                                "Maine",
                                "Maryland",
                                "Massachusetts",
                                "Michigan",
                                "Minnesota",
                                "Mississippi",
                                "Missouri",
                                "Montana",
                                "Nebraska",
                                "Nevada",
                                "New Hampshire",
                                "New Jersey",
                                "New Mexico",
                                "New York",
                                "North Carolina",
                                "North Dakota",
                                "Ohio",
                                "Oklahoma",
                                "Oregon",
                                "Pennsylvania",
                                "Rhode Island",
                                "South Carolina",
                                "South Dakota",
                                "Tennessee",
                                "Texas",
                                "Utah",
                                "Vermont",
                                "Virginia",
                                "Washington",
                                "West Virginia",
                                "Wisconsin",
                                "Wyoming"
                            ],
                            "name": "Select State"
                        }
                    }
                ],
                "transform": [
                    {"filter": "datum.State === SelectedState"},
                    {
                        "fold": [
                            "Violent Crime",
                            "Homocide",
                            "Rape",
                            "Robbery",
                            "Aggravated Assault",
                            "Property Crime",
                            "Burglary",
                            "Larceny",
                            "Motor Vehicle Theft",
                            "Arson"
                        ],
                        "as": ["Crime Type", "Rate"]
                    }
                ],
                "mark": {"type": "bar", "cornerRadiusEnd": 5},
                "encoding": {
                    "y": {"field": "Crime Type", "type": "ordinal", "title": "Type of Crime"},
                    "x": {
                        "field": "Rate",
                        "type": "quantitative",
                        "title": "Offences per 100k Population"
                    },
                    "tooltip": [
                        {"field": "Crime Type", "type": "ordinal", "title": "Crime Type"},
                        {
                            "field": "Rate",
                            "type": "quantitative",
                            "title": "Offences per 100k Population",
                            "format": ",d"
                        }
                    ]
                },
                "config": {}
            });
        </script>
    </div>
    <div class="chart-subtopic">
        Crime Preference
    </div>
    <div class="chart-wrapper soft-frame">
        <div class="chart-description" style="background-color: transparent;">
            Change is the only constant, and understanding how crime has evolved over time is crucial.
            This chart takes on the challenge of presenting a temporal view, tracing the trajectory of incidents over the years.
            Beyond just numbers, this trend tells a story. It sheds light on the effectiveness of interventions, societal shifts, and emerging trends.
            For those involved in long-term planning, be it urban development, law enforcement strategies, or community programs, such insights are foundational.
            </br>
            </br>
            In this radial chart, the data emphasises that larceny has the highest number of cases which is 81350.9 in the US.
            Reversely, the homocide has the fewest amount which is only 265.1 in the nation.
        </div>
        <div class="chart-container" id="chart3" style="background-color: transparent;">
        </div>
        <script type="text/javascript">
            vegaEmbed('#chart3', {
                "$schema": "https://vega.github.io/schema/vega/v5.json",
                "topic": "Crime type total distribution",
                "description": "A radar chart example, showing multiple dimensions in a radial layout.",
                "title": "Crime Preference in the US",
                "width": 450,
                "height": 400,
                "padding":80,
                "autosize": {"type": "none", "contains": "padding"},
                "signals": [{"name": "radius", "update": "width / 2.2"}],
                "data": [
                    {
                        "name": "table",
                        "values": [
                            {
                                "key": "Homocide",
                                "value": 2.42341,
                                "category": 0,
                                "crime_total": 265.1
                            },
                            {
                                "key": "Rape",
                                "value": 3.398426,
                                "category": 0,
                                "crime_total": 2502.8
                            },
                            {
                                "key": "Robbery",
                                "value": 3.545975,
                                "category": 0,
                                "crime_total": 3515.4
                            },
                            {
                                "key": "Aggravated Assault",
                                "value": 4.117606,
                                "category": 0,
                                "crime_total": 13110.1
                            },
                            {
                                "key": "Burglary",
                                "value": 4.246146,
                                "category": 0,
                                "crime_total": 17625.7
                            },
                            {
                                "key": "Larceny",
                                "value": 4.910362,
                                "category": 0,
                                "crime_total": 81350.9
                            },
                            {
                                "key": "Motor Vehicle Theft",
                                "value": 4.04232,
                                "category": 0,
                                "crime_total": 11023.5
                            },
                            {"key": "Arson", "value": 2.761101, "category": 0, "crime_total": 576.9}
                        ]
                    },
                    {
                        "name": "keys",
                        "source": "table",
                        "transform": [{"type": "aggregate", "groupby": ["key"]}]
                    }
                ],
                "scales": [
                    {
                        "name": "angular",
                        "type": "point",
                        "range": {"signal": "[-PI, PI]"},
                        "padding": 0.5,
                        "domain": {"data": "table", "field": "key"}
                    },
                    {
                        "name": "radial",
                        "type": "linear",
                        "range": {"signal": "[0, radius]"},
                        "zero": true,
                        "nice": false,
                        "domain": {"data": "table", "field": "value"},
                        "domainMin": 0
                    },
                    {
                        "name": "color",
                        "type": "ordinal",
                        "domain": {"data": "table", "field": "category"},
                        "range": {"scheme": "category10"}
                    }
                ],
                "encode": {"enter": {"x": {"signal": "radius"}, "y": {"signal": "radius"}}},
                "marks": [
                    {
                        "type": "group",
                        "name": "categories",
                        "zindex": 1,
                        "from": {
                            "facet": {"data": "table", "name": "facet", "groupby": ["category"]}
                        },
                        "marks": [
                            {
                                "type": "line",
                                "name": "category-line",
                                "from": {"data": "facet"},
                                "encode": {
                                    "enter": {
                                        "interpolate": {"value": "linear-closed"},
                                        "x": {
                                            "signal": "scale('radial', datum.value) * cos(scale('angular', datum.key))"
                                        },
                                        "y": {
                                            "signal": "scale('radial', datum.value) * sin(scale('angular', datum.key))"
                                        },
                                        "stroke": {"scale": "color", "field": "category"},
                                        "strokeWidth": {"value": 1},
                                        "fill": {"scale": "color", "field": "category"},
                                        "fillOpacity": {"value": 0.1},
                                        "tooltip": {
                                            "signal": "{'Crime Type': datum.key, 'Total': datum.crime_total}"
                                        }
                                    }
                                }
                            },
                            {
                                "type": "text",
                                "name": "value-text",
                                "from": {"data": "category-line"},
                                "encode": {
                                    "enter": {
                                        "x": {"signal": "datum.x"},
                                        "y": {"signal": "datum.y"},
                                        "text": {"signal": "datum.datum.crime_total"},
                                        "align": {"value": "center"},
                                        "baseline": {"value": "middle"},
                                        "fill": {"value": "black"}
                                    }
                                }
                            }
                        ]
                    },
                    {
                        "type": "rule",
                        "name": "radial-grid",
                        "from": {"data": "keys"},
                        "zindex": 0,
                        "encode": {
                            "enter": {
                                "x": {"value": 0},
                                "y": {"value": 0},
                                "x2": {"signal": "radius * cos(scale('angular', datum.key))"},
                                "y2": {"signal": "radius * sin(scale('angular', datum.key))"},
                                "stroke": {"value": "lightgray"},
                                "strokeWidth": {"value": 1}
                            }
                        }
                    },
                    {
                        "type": "text",
                        "name": "key-label",
                        "from": {"data": "keys"},
                        "zindex": 1,
                        "encode": {
                            "enter": {
                                "x": {"signal": "(radius + 5) * cos(scale('angular', datum.key))"},
                                "y": {"signal": "(radius + 5) * sin(scale('angular', datum.key))"},
                                "text": {"field": "key"},
                                "align": [
                                    {
                                        "test": "abs(scale('angular', datum.key)) > PI / 2",
                                        "value": "right"
                                    },
                                    {"value": "left"}
                                ],
                                "baseline": [
                                    {"test": "scale('angular', datum.key) > 0", "value": "top"},
                                    {"test": "scale('angular', datum.key) == 0", "value": "middle"},
                                    {"value": "bottom"}
                                ],
                                "fill": {"value": "black"},
                                "fontWeight": {"value": "bold"}
                            }
                        }
                    },
                    {
                        "type": "line",
                        "name": "outer-line",
                        "from": {"data": "radial-grid"},
                        "encode": {
                            "enter": {
                                "interpolate": {"value": "linear-closed"},
                                "x": {"field": "x2"},
                                "y": {"field": "y2"},
                                "stroke": {"value": "lightgray"},
                                "strokeWidth": {"value": 1}
                            }
                        }
                    }
                ],
                "config": {}
            });
        </script>
    </div>
    <div class="chart-subtopic">
        Violent Crime vs Property Crime
    </div>
    <div class="chart-wrapper soft-frame">
        <div class="chart-description" style="background-color: transparent;">
            Derived from 2019 FBI data, each point represents a state: the x-axis shows violent crime rates—like assaults, while the y-axis highlights property crimes such as burglaries.
            The color-coding offers quick state identification. For specifics, hover over a point to see detailed rates.
            This isn't just data—it's a snapshot of our nation's safety landscape, spotlighting regions for commendation or concern.
            </br>
            </br>
            By observing this chart, we are able to find that all of states are proportional in the violent crime rate and property crime rate.
            But however, District of Columbia, New Mexico and Alaska are in the right-top corner, which has the highest property and crime rate.

        </div>
        <div class="chart-container" id="chart4" style="background-color: transparent;">
        </div>
        <script type="text/javascript">
            vegaEmbed('#chart4', {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "background": "transparent",
                "width": 600,
                "height": 350,
                "title": {
                    "text": "The Crime of Property vs Violent in the US",
                    "fontSize": 16,
                    "subtitle": ["Offences per 100k population. Source FBI, 2019"],
                    "subtitleFontStyle": "italic",
                    "subtitleFontSize": 13,
                    "anchor": "middle"
                },
                "data": {
                    "url": "https://raw.githubusercontent.com/jhellingsdata/jhellingsdata.github.io/main/Data/USA_crime_databank_wide.csv"
                },
                "params": [
                    {
                        "name": "SelectedState",
                        "value": "All",
                        "bind": {
                            "input": "select",
                            "options": [
                                "All",
                                "Alabama",
                                "Alaska",
                                "Arizona",
                                "Arkansas",
                                "California",
                                "Colorado",
                                "Connecticut",
                                "Delaware",
                                "District of Columbia",
                                "Florida",
                                "Georgia",
                                "Hawaii",
                                "Idaho",
                                "Illinois",
                                "Indiana",
                                "Iowa",
                                "Kansas",
                                "Kentucky",
                                "Louisiana",
                                "Maine",
                                "Maryland",
                                "Massachusetts",
                                "Michigan",
                                "Minnesota",
                                "Mississippi",
                                "Missouri",
                                "Montana",
                                "Nebraska",
                                "Nevada",
                                "New Hampshire",
                                "New Jersey",
                                "New Mexico",
                                "New York",
                                "North Carolina",
                                "North Dakota",
                                "Ohio",
                                "Oklahoma",
                                "Oregon",
                                "Pennsylvania",
                                "Rhode Island",
                                "South Carolina",
                                "South Dakota",
                                "Tennessee",
                                "Texas",
                                "Utah",
                                "Vermont",
                                "Virginia",
                                "Washington",
                                "West Virginia",
                                "Wisconsin",
                                "Wyoming"
                            ],
                            "name": "Select State"
                        }
                    }
                ],
                "transform": [
                    {"filter": "SelectedState === 'All' || datum.State === SelectedState"}
                ],
                "mark": "point",
                "encoding": {
                    "x": {
                        "field": "Violent Crime",
                        "type": "quantitative",
                        "title": "Violent Crime Rate"
                    },
                    "y": {
                        "field": "Property Crime",
                        "type": "quantitative",
                        "title": "Property Crime Rate"
                    },
                    "color": {
                        "field": "State",
                        "type": "nominal",
                        "legend": {"title": "State"}
                    },
                    "tooltip": [
                        {"field": "State", "title": "State"},
                        {"field": "Violent Crime", "title": "Violent Crime Rate", "format": ",d"},
                        {
                            "field": "Property Crime",
                            "title": "Property Crime Rate",
                            "format": ",d"
                        }
                    ]
                },
                "config": {}
            });
        </script>
    </div>
    <div class="chart-subtopic">
        Rate of crime changes in Each Year
    </div>
    <div class="chart-wrapper soft-frame">
        <div class="chart-description" style="background-color: transparent;">
            At first glance, this chart might seem like a simple juxtaposition of two variables. However, the depth it offers is profound.
            It seeks to unravel potential relationships, dependencies, or patterns between these variables.
            In the world of data, correlations can lead to revelatory insights, paving the way for predictive models, proactive measures, and a deeper understanding of underlying phenomena.
            This chart, with its meticulous design, aims to make these correlations evident and actionable.
            </br>
            </br>
            However, the dual line chart shows that the violent crime is keep around 360-400 cases from 2012-2020.
            And also, the rate of property crime is keep decreasing from 2905.4 cases in 2012, to 2130.6 in 2020.


        </div>
        <div class="chart-container" id="chart5" style="background-color: transparent;">
        </div>
        <script type="text/javascript">
            vegaEmbed('#chart5', {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "title": "Rate of crime from 2012 - 2020",
                "background": "transparent",
                "description": "Rate of Violent Crime and Property Crime Offenses by Year",
                "width": 600,
                "height": 300,
                "data": {
                    "values": [
                        {"Year": "2012", "Rate": 387.8, "Crime Type": "Violent Crime"},
                        {"Year": "2012", "Rate": 2905.4, "Crime Type": "Property Crime"},
                        {"Year": "2013", "Rate": 369.1, "Crime Type": "Violent Crime"},
                        {"Year": "2013", "Rate": 2868.0, "Crime Type": "Property Crime"},
                        {"Year": "2014", "Rate": 361.6, "Crime Type": "Violent Crime"},
                        {"Year": "2014", "Rate": 2733.6, "Crime Type": "Property Crime"},
                        {"Year": "2015", "Rate": 373.7, "Crime Type": "Violent Crime"},
                        {"Year": "2015", "Rate": 2574.1, "Crime Type": "Property Crime"},
                        {"Year": "2016", "Rate": 397.5, "Crime Type": "Violent Crime"},
                        {"Year": "2016", "Rate": 2500.5, "Crime Type": "Property Crime"},
                        {"Year": "2017", "Rate": 394.9, "Crime Type": "Violent Crime"},
                        {"Year": "2017", "Rate": 2451.6, "Crime Type": "Property Crime"},
                        {"Year": "2018", "Rate": 383.4, "Crime Type": "Violent Crime"},
                        {"Year": "2018", "Rate": 2362.9, "Crime Type": "Property Crime"},
                        {"Year": "2019", "Rate": 380.8, "Crime Type": "Violent Crime"},
                        {"Year": "2019", "Rate": 2209.8, "Crime Type": "Property Crime"},
                        {"Year": "2020", "Rate": 398.5, "Crime Type": "Violent Crime"},
                        {"Year": "2020", "Rate": 2130.6, "Crime Type": "Property Crime"}
                    ]
                },
                "layer": [
                    {
                        "mark": {
                            "type": "line",
                            "point": {"filled": false, "fill": "white", "size": 100},
                            "interpolate": "monotone",
                            "tooltip": true
                        },
                        "encoding": {
                            "x": {"field": "Year", "type": "ordinal", "title": "Year"},
                            "y": {
                                "field": "Rate",
                                "type": "quantitative",
                                "title": "Rate of Crime",
                                "scale": {"domain": [0, 3000]}
                            },
                            "color": {
                                "field": "Crime Type",
                                "type": "nominal",
                                "legend": {"title": "Type of Crime", "orient": "top-right"},
                                "scale": {"domain": ["Violent Crime", "Property Crime"], "range": ["blue", "red"]}
                            }
                        }
                    }
                ],
                "resolve": {
                    "scale": {
                        "y": "independent"
                    }
                }
            });
        </script>
    </div>
    <div class="chart-subtopic">
        Incident/Crime Bias
    </div>
    <div class="chart-wrapper soft-frame">
        <div class="chart-description" style="background-color: transparent;">
            Pie charts have a unique way of presenting data, and this one is no different.
            By breaking down incidents based on bias categories, it offers a clear percentage-wise distribution.
            But beyond the numbers, each slice of this pie tells a profound story.
            It highlights prevalent prejudices, societal challenges, and areas that need introspection.
            Such visualizations are more than just data representations; they're a call for understanding, change, and action.
        </div>
        <div class="chart-container" id="chart6" style="background-color: transparent;">
        </div>
        <script type="text/javascript">
            vegaEmbed('#chart6', {
                "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                "description": "Pie chart of bias categories",
                "height": 300,
                "width": 500,
                "background": "transparent",
                "data": {
                    "values": [
                        {"category": "Race/Ethnicity/Ancestry", "value": 4491},
                        {"category": "Religion", "value": 1013},
                        {"category": "Sexual Orientation", "value": 1121},
                        {"category": "Disability", "value": 136},
                        {"category": "Gender", "value": 72},
                        {"category": "Gender Identity", "value": 266},
                        {"category": "Multiple Bias", "value": 188}
                    ]
                },
                "mark": {"type": "arc", "innerRadius": 30},
                "encoding": {
                    "theta": {"field": "value", "type": "quantitative", "stack": true},
                    "color": {
                        "field": "category",
                        "type": "nominal",
                        "scale": {
                            "range": [
                                "#1f77b4",
                                "#ff7f0e",
                                "#d62728",
                                "#9467bd",
                                "#8c564b",
                                "#e377c2",
                                "#7f7f7f"
                            ]
                        },
                        "legend": {"title": "Bias Categories"}
                    },
                    "tooltip": [
                        {"field": "category", "type": "nominal", "title": "Category"},
                        {"field": "value", "type": "quantitative", "title": "Incidents"}
                    ],
                    "text": {"field": "value", "type": "quantitative"}
                },
                "view": {"stroke": null},
                "title": "Incidents by Bias Categories",
                "config": {}
            });
        </script>
    </div>
</div>

<div class="intro" style="text-align: center;">
    <div class="chart-subtopic">
        Conclusion
    </div>
    <div class = "conclusion-description">
        Through the visual representations presented above, we've journeyed through various facets of crime statistics.
        Each chart has illuminated different dimensions, from state-wise distributions to bias-driven incidents, from temporal trends to the nature of crimes.
        These visual insights not only provide a snapshot of the current scenario but also lay the groundwork for informed decisions, research, and public awareness.
        Understanding these patterns and anomalies is pivotal for policymakers, law enforcement agencies, and the community at large.
        As we move forward, it's essential to leverage this data, ensuring a safer, more informed society.
    </div>
</div>
</body>
</html>